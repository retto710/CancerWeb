<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html>
<head>
   <title>DermaApp</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link href="css/estilosLogin.css" rel="stylesheet" media="all">
<script src="https://www.gstatic.com/firebasejs/5.9.4/firebase-app.js"></script>
</head>
<body>
        <header class="main-header">
            <a href="" class="title-header">Derma App</a>
        </header>
        
        <div class="login-page">
            <h2 class="login-title">Login</h2>
            <div class="form">
              <form>
                <input type="email" id="email_field" name="txtLoginUsuario" placeholder="Email"/>
                <input type="password" id="password_field" name="txtLoginClave" placeholder="Clave"/>
                 <button onclick="login()">Login to Account</button>
                <p class="message">Soy nuevo, quiero <a href="registroDermatologo.html">Registrarme</a></p>
              </form>
            </div>
        </div>
    </body>
          

<!-- Add additional services that you want to use -->
<script src="https://www.gstatic.com/firebasejs/5.9.4/firebase.js"></script>

<script>
  // Initialize Firebase
  var config = {
    apiKey: "AIzaSyBje_8i495uHrmJE3e95mLEsvh9hdgFF_Y",
    authDomain: "cancerapp-79383.firebaseapp.com",
    databaseURL: "https://cancerapp-79383.firebaseio.com",
    projectId: "cancerapp-79383",
    storageBucket: "cancerapp-79383.appspot.com",
    messagingSenderId: "644286998392"
  };
  firebase.initializeApp(config);
  

</script>

<script>
    function login(){
  
  var userEmail = document.getElementById('email_field').value;
  var userPass = document.getElementById('password_field').value;

    alert(userEmail);
     alert(userPass);
   firebase.auth().signInWithEmailAndPassword(userEmail.toString(), userPass.toString()).catch(function(error) {
    // Handle Errors here.
    var errorCode = error.code;
    var errorMessage = error.message;

    alert("Error : " + errorMessage);

    // ...
  });
 
}
    
</script>
<script>
    firebase.auth().onAuthStateChanged(function(user) {
  if (user) {
    // User is signed in.
    var user = firebase.auth().currentUser;
    
    if(user != null){

      var email_id = user.email;
      //document.getElementById("user_para").innerHTML = "Welcome User : " + email_id;
      
    }
      window.open('dashboard.html','_self',false)
  } else {
    // No user is signed in.
        alert("no logeado");
   // document.getElementById("user_div").style.display = "none";
    //document.getElementById("login_div").style.display = "block";

  }
});
    
</script> 
  



</body>
</html>
